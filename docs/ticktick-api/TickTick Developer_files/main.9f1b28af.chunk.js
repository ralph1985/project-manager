(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t,a){e.exports=a.p+"static/media/logo.661c5af2.svg"},274:function(e,t,a){e.exports=a(595)},284:function(e,t,a){},595:function(e,t,a){"use strict";a.r(t);a(176);var n=a(8),r=(a(276),a(267)),i=a(0),o=a.n(i),c=a(7),l=a.n(c),p=a(53);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(10),u=a(14),d=a(67),m=a(15),f=(a(283),a(284),a(30)),g=a(26),b=a(168),h=a.n(b),v="developer.ticktick.com",_=h.a.create({baseURL:"//".concat(v),withCredentials:!0}),x=h.a.create({baseURL:"//".concat(v),withCredentials:!0});_.interceptors.response.use(function(e){return e},function(e){if(403!==e.response.status)return Promise.reject(e);window.location="//".concat(window.location.hostname.split(".").slice(-2).join("."),"/signin?dest=").concat(window.location)});var E=_;var w=o.a.createContext();w.Consumer,a(301);var O=a(250),j=(a(186),a(9)),y=a(246),A=a.n(y);function k(){var e=Object(u.a)(["\n  margin-right: 8px;\n  @media (max-width: 650px) {\n    display: none;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(u.a)(["\n  * {\n    font-weight: 500;\n  }\n"]);return S=function(){return e},e}function C(){var e=Object(u.a)(["\n  display: none;\n  @media (max-width: 650px) {\n    display: block;\n  }\n"]);return C=function(){return e},e}function R(){var e=Object(u.a)(["\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 22px;\n  &:not(:nth-last-child(1)) {\n    margin-right: 64px;\n  }\n"]);return R=function(){return e},e}function N(){var e=Object(u.a)(["\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 500;\n  min-width: 95px;\n  font-size: 14px;\n  position: relative;\n  z-index: 99;\n"]);return N=function(){return e},e}function U(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: right;\n  font-weight: 500;\n  @media (max-width: 650px) {\n    transition: opacity 0.25s ease, transform 0.25s ease;\n    flex-direction: column;\n    position: absolute;\n    background: #ffffff;\n    z-index: -1;\n    top: 64px;\n    left: 0;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    ","\n  }\n  > * {\n    @media (max-width: 650px) {\n      height: 64px;\n      width: 100%;\n      margin: 0 !important;\n      text-align: center;\n      line-height: 64px !important;\n      border-bottom: 1px solid #eaeaea;\n      box-sizing: padding-box;\n    }\n  }\n"]);return U=function(){return e},e}function M(){var e=Object(u.a)(["\n  background: #ffffff;\n  display: flex;\n  position: relative;\n  justify-content: space-between;\n  height: 100%;\n  align-items: center;\n  padding: 0 15px;\n  border-bottom: 1px solid #ededed;\n"]);return M=function(){return e},e}var L=function(){var e=Object(i.useContext)(w),t=e.isSignin,a=e.user,n=Object(i.useState)(!1),r=Object(g.a)(n,2),c=r[0],l=r[1];return o.a.createElement(F,null,o.a.createElement(T,{to:"/"},o.a.createElement("img",{src:A.a,alt:"Ticktick",style:{width:"22px",marginRight:"8px"}}),o.a.createElement("span",null,"Developer")),o.a.createElement(I,{isExpand:c},o.a.createElement(z,{to:"/docs#/openapi",activeStyle:{color:"#4772FA"},exact:!0,onClick:function(){l(!1)}},o.a.createElement(s.a,{id:"nav_api"})),o.a.createElement(z,{to:"/manage",activeStyle:{color:"#4772FA"},onClick:function(){l(!1)}},o.a.createElement(s.a,{id:"nav_manageApp"})),t?o.a.createElement(D,null,o.a.createElement(B,{size:"small",icon:"user",src:a.avatarUrl}),a.name||""):null),o.a.createElement(P,{type:"menu",onClick:function(){l(!c)}}))},F=m.a.div(M()),I=m.a.div(U(),function(e){return e.isExpand?"opacity: 1; transform: none;":"opacity: 0; transform: translateY(-1rem); pointer-events: none;"}),T=Object(m.a)(p.b)(N()),z=Object(m.a)(p.c)(R()),P=Object(m.a)(j.a)(C()),D=m.a.div(S()),B=Object(m.a)(O.a)(k());var V=Object(d.g)(function(e){var t=Object(i.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("iframe",{title:"docs",style:{display:"block"},src:"//".concat(v,"/docs/index.html").concat(e.location.hash),width:"100%",height:"100%",frameBorder:"0",ref:t,onLoad:function(){var e=t.current.contentWindow;e.window.addEventListener("hashchange",function(){var t=e.location.hash.substr(1),a={title:"",url:window.location.href},n="/api#".concat(t);window.history.replaceState(a,"",n)},!1)}}))}),q=(a(596),a(268)),W=(a(72),a(22)),J=(a(95),a(42)),G=a(89),Y=(a(109),a(62)),H=a(124);function K(){var e=Object(u.a)(["\n  padding: 0;\n  font-size: 14px;\n  line-height: 22px;\n"]);return K=function(){return e},e}var $=Y.a.confirm;var Q=function(e){return o.a.createElement(X,{type:"link",onClick:function(t){return function(t){t.stopPropagation(),$({title:e.title,content:e.content,onOk:function(){return new Promise(function(t,a){e.onOk()?t():a()}).catch(function(){})},okType:"danger",okText:e.delete,mask:!1,maskClosable:!0,autoFocusButton:H.ok})}(t)}},o.a.createElement(s.a,{id:"manageApp_delete"}))},X=Object(m.a)(W.a)(K()),Z=(a(146),a(47)),ee=(a(166),a(27)),te=ee.a.create({name:"NewAppForm"})(function(e){var t=e.form,a=t.getFieldDecorator,n=t.getFieldError,r=n("appName"),i=n("homepage"),c=n("description");return o.a.createElement(ee.a,{layout:"vertical"},o.a.createElement(ee.a.Item,{validateStatus:r?"error":"",help:r||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"newApp_appName"}))},a("appName",{validateTrigger:"onBlur",rules:[{required:!0,message:o.a.createElement(s.a,{key:"tip_appNamerequired",id:"tip_appNamerequired"})},{max:64,message:o.a.createElement(s.a,{key:"tip_appNameMax64",id:"tip_appNameMax64"})}]})(o.a.createElement(Z.a,null))),o.a.createElement(ee.a.Item,{validateStatus:i?"error":"",help:i||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"newApp_appServicesURL"})),colon:!1},a("homepage",{validateTrigger:"onBlur",rules:[{max:256,message:o.a.createElement(s.a,{key:"tip_appServicesURLMax64",id:"tip_appServicesURLMax64"})},{type:"url",message:o.a.createElement(s.a,{key:"tip_URL",id:"tip_URL"})}]})(o.a.createElement(Z.a,null))),o.a.createElement(ee.a.Item,{validateStatus:c?"error":"",help:c||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"newApp_desctiption"})),colon:!1},a("description",{validateTrigger:"onBlur",rules:[{max:1e3,message:o.a.createElement(s.a,{key:"tip_descriptionMax1000",id:"tip_descriptionMax1000"})}]})(o.a.createElement(Z.a.TextArea,{rows:4}))))});var ae=function(e){var t=Object(i.useState)(!1),a=Object(g.a)(t,2),n=a[0],r=a[1],c=e.visible,l=e.onCancel,p=e.onCreate,u=Object(i.useRef)(null),d=Object(s.c)();return o.a.createElement(Y.a,{visible:c,title:o.a.createElement(s.a,{id:"newApp_title"}),onCancel:l,okText:o.a.createElement(s.a,{id:"newApp_add"}),onOk:function(){u.current.validateFieldsAndScroll(function(e,t){e||(r(!0),E.post("/api/v1/oauthapp",t).then(function(e){p(e.data),u.current.resetFields()}).catch(function(e){J.a.error(d.formatMessage({id:"message_createFailed"}))}).finally(function(){r(!1)}))})},okButtonProps:{type:"primary",loading:n},mask:!1},o.a.createElement(te,{ref:u}))};function ne(){var e=Object(u.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  word-break: break-word;\n  word-break: break-all;\n"]);return ne=function(){return e},e}function re(){var e=Object(u.a)(["\n  margin: 0 14px;\n  display: inline;\n  border: 0.5px solid rgba(0, 0, 0, 0.09);\n  @media (max-width: 700px) {\n    display: none;\n  }\n"]);return re=function(){return e},e}function ie(){var e=Object(u.a)(["\n  padding: 0;\n  font-size: 14px;\n  line-height: 22px;\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n  margin-top: 34px;\n"]);return oe=function(){return e},e}function ce(){var e=Object(u.a)(["\n  width: 108px;\n"]);return ce=function(){return e},e}function le(){var e=Object(u.a)(["\n  font-size: 24px;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 24px;\n  margin: 0;\n"]);return le=function(){return e},e}function pe(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return pe=function(){return e},e}function se(){var e=Object(u.a)(["\n  max-width: 1080px;\n  margin: 33px auto 0;\n  @media (max-width: 1080px) {\n    padding: 0 50px;\n  }\n  @media (max-width: 480px) {\n    padding: 0 20px;\n  }\n"]);return se=function(){return e},e}var ue=Object(d.g)(function(e){var t=Object(i.useState)(JSON.parse(localStorage.getItem("ticktick-developer-appdata"))),a=Object(g.a)(t,2),r=a[0],c=a[1],l=Object(i.useState)({visible:!1}),u=Object(g.a)(l,2),d=u[0],m=u[1],b=Object(i.useState)(!1),h=Object(g.a)(b,2),v=h[0],_=h[1],x=Object(s.c)(),w=[{title:o.a.createElement(s.a,{id:"manageApp_newApp"}),dataIndex:"appName",key:"appName",width:"100px",render:function(e,t){return o.a.createElement(_e,null,e)}},{title:o.a.createElement(s.a,{id:"manageApp_desctiption"}),dataIndex:"description",key:"description",width:"200px",render:function(e,t){return o.a.createElement(_e,null,e)}},{title:o.a.createElement(s.a,{id:"manageApp_action"}),dataIndex:"action",width:"100px",render:function(e,t){return r.length>=1?o.a.createElement(o.a.Fragment,null,o.a.createElement(he,{type:"link"},o.a.createElement(p.b,{to:"/manage/".concat(t.id)},x.formatMessage({id:"manageApp_edit"}))),o.a.createElement(ve,null),o.a.createElement(Q,{title:x.formatMessage({id:"deleteApp_title"}),content:x.formatMessage({id:"deleteApp_content"}),delete:x.formatMessage({id:"deleteApp_delete"}),onOk:function(){return O(t.id)}})):null}}],O=function(e){E.delete("/api/v1/oauthapp/".concat(e)).then(function(t){var a=Object(G.a)(r);return c(a.filter(function(t){return t.id!==e})),!0}).catch(function(e){return J.a.error(x.formatMessage({id:"message_deleteFailed"})),!1})};return Object(i.useEffect)(function(){_(!0),E.get("/api/v1/oauthapp").then(function(e){c(e.data)}).catch(function(e){e.code}).finally(function(){_(!1)})},[]),Object(i.useEffect)(function(){localStorage.setItem("ticktick-developer-appdata",JSON.stringify(r))},[r]),o.a.createElement(de,null,o.a.createElement(me,null,o.a.createElement(fe,null,o.a.createElement(s.a,{id:"manageApp_title"})),o.a.createElement(ge,{type:"primary",onClick:function(){m(Object(f.a)({},d,{visible:!0}))}},o.a.createElement(s.a,{id:"newApp_title"}))),o.a.createElement(n.b,{renderEmpty:function(){return o.a.createElement("div",{style:{overflow:"hidden"}},o.a.createElement("p",{style:{float:"left",margin:0,color:"rgba(0,0,0,0.65)"}},o.a.createElement(s.a,{id:"manageApp_noAppTip"})))}},o.a.createElement(be,{dataSource:r,columns:w,loading:v,rowKey:"id",bordered:!1,rowClassName:function(e,t){return t%2===1?"customRow":"customRow customRowDark"},onRow:function(t){return{onClick:function(a){e.history.push("/manage/".concat(t.id))}}},pagination:!1})),o.a.createElement(ae,Object.assign({},d,{onCancel:function(){m(Object(f.a)({},d,{visible:!1}))},onCreate:function(e){c([e].concat(Object(G.a)(r))),m(Object(f.a)({},d,{visible:!1}))}})))}),de=m.a.div(se()),me=m.a.div(pe()),fe=m.a.h1(le()),ge=Object(m.a)(W.a)(ce()),be=Object(m.a)(q.a)(oe()),he=Object(m.a)(W.a)(ie()),ve=m.a.hr(re()),_e=m.a.div(ne()),xe=(a(198),a(129)),Ee=(a(597),a(269)),we=a(36),Oe=a(40),je=a(37),ye=a(41),Ae=(a(494),a(270)),ke=a(103),Se=a.n(ke),Ce=a(174),Re=a(54),Ne=a(259),Ue=a.n(Ne),Me=a(260),Le=a.n(Me),Fe=(a(497),"`children` to `<ImgCrop />` must be only `<Upload />`"),Ie=function(e){function t(e){var a;return Object(we.a)(this,t),(a=Object(Oe.a)(this,Object(je.a)(t).call(this,e))).renderUpload=function(){var e,t=a.props.children;if(void 0===a.newUploadProps){if(Array.isArray(t)){if(t.length>1)throw new Error(Fe);e=t[0]}else e=t;if(!e.type.defaultProps.beforeUpload)throw new Error(Fe);var n=e.props,r=n.accept,i=n.beforeUpload;a.realBeforeUpload=i,a.newUploadProps={accept:r||"image/*",beforeUpload:a.beforeUpload}}else e=Array.isArray(t)?t[0]:t;return Object(f.a)({},e,{props:Object(f.a)({},e.props,a.newUploadProps)})},a.beforeUpload=function(e,t){return new Promise(function(n,r){a.resolve=n,a.reject=r;var i=a.props.beforeCrop;if(!i||i(e,t)){a.originalFIle=e;var o=new FileReader;o.addEventListener("load",function(){a.setState({modalVisible:!0,src:o.result})}),o.readAsDataURL(a.originalFIle)}else a.reject()})},a.onImageLoaded=function(e){if(void 0===a.imageRef){a.imageRef=e;var t=a.imageRef,n=t.naturalWidth,r=t.naturalHeight,i=n,o=r,c=a.props,l=c.modalWidth,p=c.width,s=c.height,u=c.useRatio,d=l-48;n>d&&(i=d,a.scale=n/i,o=r/a.scale);var m,f,g,b,h=p/s,v=p,_=s;if((i<p||o<s)&&(v=Math.min(i,o),_=Math.min(i,o),h=Math.min(i,o)/_),!0===u)n/r>h?(f=0,m=(i-(g=(b=o)*h))/2):(m=0,f=(o-(b=(g=i)/h))/2);else m=(i-v)/2,f=(o-_)/2,g=v,b=_;return a.setState({crop:{unit:"px",aspect:h,x:m,y:f,width:g,height:b}}),!1}},a.onCropChange=function(e){a.setState({crop:e})},a.onOk=Object(Ce.a)(Se.a.mark(function e(){var t,n,r,i,o,c,l,p,s,u;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.crop,n=t.x,r=t.y,i=t.width,o=t.height,i&&o){e.next=5;break}return a.onClose(),e.abrupt("return");case 5:void 0!==a.scale&&(n*=a.scale,r*=a.scale,i*=a.scale,o*=a.scale),(c=document.createElement("canvas")).width=i,c.height=o,c.getContext("2d").drawImage(a.imageRef,n,r,i,o,0,0,i,o),l=a.originalFIle,p=l.name,s=l.type,u=l.uid,c.toBlob(function(){var e=Object(Ce.a)(Se.a.mark(function e(t){var n,r,i,o,c;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new File([t],p,{type:s,lastModified:Date.now()})).uid=u,a.onClose(),!1!==(r=a.realBeforeUpload(n,[n]))){e.next=7;break}return a.reject(),e.abrupt("return");case 7:if("function"===typeof r.then){e.next=10;break}return a.resolve(n),e.abrupt("return");case 10:return e.prev=10,e.next=13,r;case 13:i=e.sent,o=Object.prototype.toString.call(i),c="[object File]"===o||"[object Blob]"===o,a.resolve(c?i:n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),a.reject(e.t0);case 22:case"end":return e.stop()}},e,null,[[10,19]])}));return function(t){return e.apply(this,arguments)}}(),s);case 13:case"end":return e.stop()}},e)})),a.onClose=function(){a.imageRef=void 0,a.scale=void 0,a.setState({modalVisible:!1,crop:{}})},a.state={modalVisible:!1,src:null,crop:{}},a}return Object(ye.a)(t,e),Object(Re.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalTitle,n=t.modalWidth,r=t.resize,i=t.resizeAndDrag,c=this.state,l=c.modalVisible,p=c.src,s=c.crop;return o.a.createElement(Le.a,null,function(t,c){return o.a.createElement(o.a.Fragment,null,e.renderUpload(),o.a.createElement(Y.a,{visible:l,width:n,onOk:e.onOk,onCancel:e.onClose,wrapClassName:"antd-img-crop-modal",title:o.a.createElement(Ae.a,{title:"zh-cn"===c&&"Edit image"===a?"\u7f16\u8f91\u56fe\u7247":a,value:"".concat((+s.width).toFixed(0),"px x ").concat((+s.height).toFixed(0),"px")}),maskClosable:!1,destroyOnClose:!0},p&&o.a.createElement(Ue.a,{src:p,crop:s,locked:!1===r,disabled:!1===i,onImageLoaded:e.onImageLoaded,onChange:e.onCropChange,keepSelection:!0})))})}}]),t}(i.Component);Ie.defaultProps={width:300,height:300,useRatio:!1,resize:!0,resizeAndDrag:!0,modalTitle:"Edit image",modalWidth:520};var Te=Ie;function ze(){var e=Object(u.a)(["\n  ","\n"]);return ze=function(){return e},e}o.a.Component;var Pe=ee.a.create({name:"AppDetailForm",onValuesChange:function(e,t,a){return e.handleChanged()}})(function(e){var t=Object(i.useState)(),a=Object(g.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)(!1),l=Object(g.a)(c,2),p=l[0],u=l[1],d=Object(s.c)(),m=e.customstyle,f=e.defaultValue,b=e.form,h=b.getFieldDecorator,_=b.getFieldError,x=_("appName"),E=_("homepage"),w=_("description");return o.a.createElement(De,{layout:"horizontal",customstyle:m},o.a.createElement(ee.a.Item,{label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"appSetting_appIcon"})),colon:!1},o.a.createElement(Te,null,o.a.createElement(Ee.a,{name:"file",listType:"picture-card",showUploadList:!1,action:"//".concat(v,"/api/v1/oauthapp/").concat(f.id,"/icon"),beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||J.a.error(d.formatMessage({id:"message_uploadType"}));var a=e.size/1024/1024<2;return a||J.a.error(d.formatMessage({id:"message_uploadSize"})),t&&a},onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){r(e),u(!0)}):u(!0)},withCredentials:!0},n||f.icon?o.a.createElement("img",{src:n||f.icon,alt:"icon",style:{width:"100%"}}):o.a.createElement("div",null,o.a.createElement(j.a,{type:p?"loading":"plus"}),o.a.createElement("div",{className:"ant-upload-text"},d.formatMessage({id:"appSetting_upload"})))))),o.a.createElement(ee.a.Item,{validateStatus:x?"error":"",help:x||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"appSetting_appName"})),colon:!1},h("appName",{initialValue:f.appName,validateTrigger:"onBlur",rules:[{required:!0,message:o.a.createElement(s.a,{key:"tip_appNamerequired",id:"tip_appNamerequired"})},{max:64,message:o.a.createElement(s.a,{key:"tip_appNameMax64",id:"tip_appNameMax64"})}]})(o.a.createElement(Z.a,null))),o.a.createElement(ee.a.Item,{validateStatus:E?"error":"",help:E||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"appSetting_appServicesURL"})),colon:!1},h("homepage",{initialValue:f.homepage,validateTrigger:"onBlur",rules:[{max:256,message:o.a.createElement(s.a,{key:"tip_appServicesURLMax64",id:"tip_appServicesURLMax64"})},{type:"url",message:o.a.createElement(s.a,{key:"tip_URL",id:"tip_URL"})}]})(o.a.createElement(Z.a,null))),o.a.createElement(ee.a.Item,{validateStatus:w?"error":"",help:w||"",label:o.a.createElement("span",{className:"customLabel"},o.a.createElement(s.a,{id:"appSetting_desctiption"})),colon:!1},h("description",{initialValue:f.description,validateTrigger:"onBlur",rules:[{max:1e3,message:o.a.createElement(s.a,{key:"tip_descriptionMax1000",id:"tip_descriptionMax1000"})}]})(o.a.createElement(Z.a.TextArea,{rows:4}))))}),De=Object(m.a)(ee.a)(ze(),function(e){return e.customstyle}),Be=a(265),Ve=a.n(Be);function qe(){var e=Object(u.a)(["\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  border: none;\n  width: 100%;\n  height: 32px;\n  background: transparent;\n  font-size: 14px;\n  line-height: 14px;\n  text-align: right;\n  outline: none;\n  color: #bfbfbf;\n  transition: all 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);\n  &:hover {\n    color: rgba(0, 0, 0, 0.65);\n  }\n"]);return qe=function(){return e},e}function We(){var e=Object(u.a)(["\n  color: #bfbfbf !important;\n"]);return We=function(){return e},e}function Je(){var e=Object(u.a)(["\n  font-size: 15px;\n  color: rgba(0, 0, 0, 0.45);\n  line-height: 22px;\n  margin: 24px 0;\n  font-weight: 500;\n"]);return Je=function(){return e},e}function Ge(){var e=Object(u.a)(["\n  font-size: 24px;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 24px;\n  margin: 0;\n"]);return Ge=function(){return e},e}function Ye(){var e=Object(u.a)(["\n  ","\n"]);return Ye=function(){return e},e}var He=Y.a.confirm,Ke=ee.a.create({name:"AppDetailForm",onValuesChange:function(e,t,a){return e.handleChanged()}})(function(e){var t=Object(s.c)(),a=e.form,n=a.getFieldDecorator,r=a.getFieldError,i=e.defaultValue,c=e.handleResetSecret,l=e.customstyle,p=r("redirect_uri"),u=function(){J.a.success(t.formatMessage({id:"message_copied"}))};return o.a.createElement($e,{layout:"horizontal",customstyle:l},o.a.createElement(Qe,null,o.a.createElement(s.a,{id:"appSetting_title"})),o.a.createElement(Xe,null,o.a.createElement(s.a,{id:"appSetting_description"})),o.a.createElement(ee.a.Item,{label:o.a.createElement("span",{className:"customLabel"},"Client ID"),colon:!1},o.a.createElement(Ze,{value:i.client_id,spellCheck:!1}),o.a.createElement(et,{text:i.client_id,onCopy:u},o.a.createElement("button",null,t.formatMessage({id:"input_copy"})))),o.a.createElement(ee.a.Item,{label:o.a.createElement("span",{className:"customLabel"},"Client Secret"," ",o.a.createElement(W.a,{type:"link",style:{padding:"0 8px"},onClick:function(){He({title:t.formatMessage({id:"reset_title"}),content:t.formatMessage({id:"reset_content"}),okText:t.formatMessage({id:"button_reset"}),okType:"primary",cancelText:t.formatMessage({id:"button_cancel"}),onOk:function(){return new Promise(function(e,t){c()?e():t()}).catch(function(){})},mask:!1,maskClosable:!0,autoFocusButton:H.ok})}},o.a.createElement(s.a,{id:"appSetting_reset"}))),colon:!1},o.a.createElement(Ze,{value:i.client_secret,spellCheck:!1}),o.a.createElement(et,{text:i.client_secret,onCopy:u},o.a.createElement("button",null,t.formatMessage({id:"input_copy"})))),o.a.createElement(ee.a.Item,{label:o.a.createElement("span",{className:"customLabel"},"OAuth redirect URL"),colon:!1,validateStatus:p?"error":"",help:p||""},n("redirect_uri",{initialValue:i.redirect_uri[0]||null,validateTrigger:"onBlur",rules:[{type:"url",message:o.a.createElement(s.a,{key:"info",id:"tip_URL"})},{max:254,message:o.a.createElement(s.a,{key:"info",id:"tip_redirectURLMax64"})}]})(o.a.createElement(Z.a,null))))}),$e=Object(m.a)(ee.a)(Ye(),function(e){return e.customstyle}),Qe=m.a.h1(Ge()),Xe=m.a.p(Je()),Ze=Object(m.a)(Z.a)(We()),et=Object(m.a)(Ve.a)(qe());function tt(){var e=Object(u.a)(["\n  position: absolute !important;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return tt=function(){return e},e}function at(){var e=Object(u.a)(["\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(255, 255, 255, 0.5);\n"]);return at=function(){return e},e}function nt(){var e=Object(u.a)(["\n  font-size: 14px;\n  color: ",";\n  text-align: left;\n  padding: 0 16px !important;\n  & > i {\n    padding-right: 5px;\n  }\n"]);return nt=function(){return e},e}function rt(){var e=Object(u.a)(["\n  margin-top: 32px;\n  display: flex;\n  justify-content: space-between;\n  color: rgba(0, 0, 0, 0.65);\n  @media (max-width: 1080px) {\n    flex-wrap: wrap;\n  }\n"]);return rt=function(){return e},e}function it(){var e=Object(u.a)(["\n  @media (max-width: 1080px) {\n    padding: 0 50px;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(u.a)(["\n  margin: 32px auto 0;\n  max-width: 1080px;\n"]);return ot=function(){return e},e}var ct=Object(d.g)(function(e){var t=Object(i.useState)({appName:"",client_id:"",client_secret:"",description:"",homepage:"",redirect_uri:[]}),a=Object(g.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)(!0),l=Object(g.a)(c,2),p=l[0],u=l[1],d=Object(i.useState)(!1),m=Object(g.a)(d,2),b=m[0],h=m[1],v=Object(i.useState)(!1),_=Object(g.a)(v,2),x=_[0],w=_[1],O=Object(i.useState)(!1),j=Object(g.a)(O,2),y=j[0],A=j[1],k=Object(i.useRef)(null),S=Object(i.useRef)(null),C=e.match.params.id,R=Object(s.c)();return Object(i.useEffect)(function(){return E.get("/api/v1/oauthapp/".concat(C)).then(function(e){r(function(t){return Object(f.a)({},t,e.data)})}).catch(function(e){}).finally(function(){u(!1),w(!1)}),function(){A(!0)}},[]),o.a.createElement(lt,null,o.a.createElement(pt,null,o.a.createElement(mt,{onClick:function(){k.current.validateFieldsAndScroll(function(t,a){if(t)h(!1);else{var r=Object(f.a)({},n,a);S.current.validateFieldsAndScroll(function(t,a){var n={redirect_uri:[a.redirect_uri]};console.log(a.redirect_uri),t?h(!1):x?(h(!0),E.put("/api/v1/oauthapp/".concat(C),Object(f.a)({},r,n)).then(function(t){e.history.push("/manage"),y&&h(!1)}).catch(function(e){J.a.error(R.formatMessage({id:"message_saveFailed"}))}).finally(function(){})):e.history.push("/manage")})}})},loading:b,type:x?"primary":null},o.a.createElement(s.a,{id:x?"appSetting_save":"appSetting_back"})),o.a.createElement(st,null,o.a.createElement(Ke,{customstyle:ut,handleResetSecret:function(){E.put("/api/v1/oauthapp/".concat(C,"/secret/reset")).then(function(e){return r(Object(f.a)({},n,{client_secret:e.data})),!0}).catch(function(e){return J.a.error(R.formatMessage({id:"message_resetFailed"})),!1})},ref:S,defaultValue:n,handleChanged:function(){w(!0)}}),o.a.createElement(Pe,{customstyle:dt,defaultValue:n,ref:k,handleChanged:function(){w(!0)}}),p?o.a.createElement(ft,null,o.a.createElement(gt,{size:"large"})):null)))}),lt=m.a.div(ot()),pt=m.a.div(it()),st=m.a.div(rt()),ut="\n  flex: 1 1 664px;\n  background: #ffffff;\n  border-radius: 4px;\n  padding: 0;\n",dt="\n  margin-left: 40px !important;\n  flex: 1 1 446px;\n  background: #ffffff;\n  border-radius: 4px;\n  padding: 0;\n  @media (max-width: 1080px) {\n    margin: 72px 0 0 0 !important;\n  }\n",mt=Object(m.a)(W.a)(nt(),function(e){return"primary"===e.type?"#fff":"rgba(0, 0, 0, 0.65)"}),ft=m.a.div(at()),gt=Object(m.a)(xe.a)(tt());function bt(){var e=Object(u.a)(["\n  background: #ffffff;\n  height: calc(100vh - 64px);\n  overflow: auto;\n"]);return bt=function(){return e},e}function ht(){var e=Object(u.a)(["\n  background: #ffffff;\n  position: relative;\n  z-index: 2;\n  min-height: 64px;\n  height: 64px;\n  width: 100%;\n  padding: 0;\n"]);return ht=function(){return e},e}function vt(){var e=Object(u.a)(["\n  width: 100%;\n"]);return vt=function(){return e},e}var _t=function(){var e=Object(i.useContext)(w);return Object(i.useEffect)(function(){e.handler.handleUser()},[]),o.a.createElement(xt,null,o.a.createElement(Et,null,o.a.createElement(L,null)),o.a.createElement(wt,null,o.a.createElement(d.d,null,o.a.createElement(d.b,{path:"/docs",component:V}),o.a.createElement(d.b,{path:"/manage",component:ue,exact:!0}),o.a.createElement(d.b,{path:"/manage/:id",component:ct}),o.a.createElement(d.a,{to:"docs#/openapi"}))))},xt=m.a.div(vt()),Et=m.a.header(ht()),wt=m.a.div(bt()),Ot={nav_api:"API Docs",nav_manageApp:"Manage Apps",nav_signin:"Sign In",nav_signup:"Sign Up",manageApp_title:"Manage Apps",manageApp_newApp:"App Name",manageApp_appName:"Name",manageApp_desctiption:"Description",manageApp_action:"Actions",manageApp_edit:"Edit",manageApp_delete:"Delete",manageApp_signInTip:"Please {signin} before you try to manage the applications.",manageApp_signInTip_signin:"sign in",manageApp_noAppTip:'No applications yet. Please click the "New App" button at the top right corner to add a new one. ',deleteApp_title:"Delete Application",deleteApp_content:"Deleting cannot be undone. Are you sure to delete this application?",deleteApp_delete:"Delete",newApp_title:"New App",newApp_add:"Add",newApp_appName:"Name",newApp_desctiption:"Description",newApp_appServicesURL:"App Service URL",input_placeholder:"Please enter",input_copy:"Copy",tip_appNamerequired:"Please enter your App name",tip_appNameMax64:"Maximum of 64 characters for the application name",tip_appServicesURLMax64:"Maximum of 64 characters for the app service URL",tip_redirectURLMax64:"Maximum of 64 characters for the OAuth redirect URL",tip_URL:"Please enter right url",tip_descriptionMax1000:"Maximum of 1000 characters for the description",message_upload300x300:"Only 300px x 300px size for Application Icon can be uploaded",message_uploadType:"You can only upload JPG/PNG file!",message_uploadSize:"File must smaller than 2MB!",message_copied:"Copied",message_createFailed:"Add failed",message_deleteFailed:"Delete failed",message_saveFailed:"Save failed",message_resetFailed:"Reset failed",appSetting_title:"App Setting",appSetting_description:"We adopt the OAuth 2.0 protocol, which allows your app to request for authorization of your TickTick data directly without a password.",appSetting_reset:"Reset",button_cancel:"Cancel",button_reset:"Reset",reset_title:"Are you sure reset your client secret?",reset_content:"The reset operation can't undo",appSetting_appName:"Name",appSetting_desctiption:"Description",appSetting_appServicesURL:"App Service URL",appSetting_appIcon:"App Icon",appSetting_save:"Save",appSetting_back:"Back",appSetting_upload:"Upload"},jt={nav_api:"API \u6587\u6863",nav_manageApp:"\u7ba1\u7406\u5e94\u7528",nav_signin:"\u767b\u5f55",nav_signup:"\u6ce8\u518c",manageApp_title:"\u7ba1\u7406\u5e94\u7528",manageApp_newApp:"\u5e94\u7528\u540d",manageApp_appName:"\u5e94\u7528\u540d\u79f0",manageApp_desctiption:"\u5e94\u7528\u63cf\u8ff0",manageApp_action:"\u64cd\u4f5c",manageApp_edit:" \u7f16\u8f91 ",manageApp_delete:" \u5220\u9664 ",manageApp_signInTip:"\u8bf7{signin}\u540e\u518d\u7ba1\u7406\u4f60\u7684\u5e94\u7528\u3002",manageApp_signInTip_signin:" \u767b\u5f55 ",manageApp_noAppTip:"\u6682\u65e0\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u201c\u65b0\u5e94\u7528\u201d\u3002",deleteApp_title:"\u5220\u9664\u5e94\u7528",deleteApp_content:"\u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u5b9a\u8981\u5220\u9664\u6b64\u5e94\u7528\u5417",deleteApp_delete:" \u5220\u9664 ",newApp_title:"\u65b0\u5e94\u7528",newApp_add:" \u6dfb\u52a0 ",newApp_appName:"\u5e94\u7528\u540d\u79f0",newApp_desctiption:"\u5e94\u7528\u63cf\u8ff0",newApp_appServicesURL:"\u5b98\u65b9\u7f51\u7ad9\u5730\u5740",input_placeholder:"\u8bf7\u8f93\u5165",input_copy:"\u590d\u5236",tip_appNamerequired:"\u8bf7\u8f93\u5165\u4f60\u7684\u5e94\u7528\u540d\u79f0",tip_appNameMax64:"\u5e94\u7528\u540d\u79f0\u6700\u591a 64 \u5b57\u7b26",tip_appServicesURLMax64:"\u5b98\u65b9\u7f51\u7ad9\u5730\u5740\u6700\u591a 256 \u5b57\u7b26",tip_redirectURLMax64:"OAuth Redirect URL \u6700\u591a 256 \u5b57\u7b26",tip_URL:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5730\u5740",tip_descriptionMax1000:"\u5e94\u7528\u63cf\u8ff0\u6700\u591a 1000 \u5b57\u7b26",message_upload300x300:"\u4ec5\u652f\u6301\u4e0a\u4f20\u5c3a\u5bf8\u4e3a 300px x 300px \u7684\u5e94\u7528\u56fe\u6807",message_uploadType:"\u4ec5\u80fd\u4e0a\u4f20 JPG/PNG \u6587\u4ef6!",message_uploadSize:"\u6587\u4ef6\u5927\u5c0f\u9700\u8981\u5c0f\u4e8e 2MB\uff01",message_copied:"\u5df2\u590d\u5236",message_createFailed:"\u6dfb\u52a0\u5931\u8d25",message_deleteFailed:"\u5220\u9664\u5931\u8d25",message_saveFailed:"\u4fdd\u5b58\u5931\u8d25",message_resetFailed:"\u91cd\u7f6e\u5931\u8d25",appSetting_title:"\u5e94\u7528\u8bbe\u7f6e",appSetting_description:"\u6211\u4eec\u4f7f\u7528 OAuth 2.0 \u534f\u8bae\uff0c\u5b83\u5141\u8bb8\u60a8\u7684\u5e94\u7528\u76f4\u63a5\u8bf7\u6c42\u6388\u6743\u7528\u6237\u6ef4\u7b54\u6e05\u5355\u5e10\u6237\u4e2d\u7684\u79c1\u4eba\u6570\u636e\uff0c\u800c\u65e0\u9700\u83b7\u53d6\u5bc6\u7801\u3002",appSetting_reset:"\u91cd\u7f6e",button_cancel:"\u53d6\u6d88",button_reset:"\u91cd\u7f6e",reset_title:"\u786e\u5b9a\u8981\u91cd\u7f6e\u4f60\u7684 Client Secret \u5417?",reset_content:"\u91cd\u7f6e\u64cd\u4f5c\u4e0d\u80fd\u64a4\u9500",appSetting_appName:"\u5e94\u7528\u540d\u79f0",appSetting_desctiption:"\u5e94\u7528\u63cf\u8ff0",appSetting_appServicesURL:"\u5b98\u65b9\u7f51\u7ad9\u5730\u5740",appSetting_appIcon:"\u5e94\u7528\u56fe\u6807",appSetting_save:"\u4fdd\u5b58",appSetting_back:"\u8fd4\u56de",appSetting_upload:"\u4e0a\u4f20"},yt=a(266),At=a.n(yt),kt=a(175),St=a.n(kt);function Ct(e){switch(e){case"en":return{antd:At.a,locale:Ot};case"zh":default:return{antd:St.a,locale:jt}}}l.a.render(o.a.createElement(n.b,{autoInsertSpaceInButton:!1},o.a.createElement(s.b,{locale:"en",messages:Ct("en").locale},o.a.createElement(r.a,{locale:Ct("en").antd},o.a.createElement(function(e){var t=Object(i.useState)(!1),a=Object(g.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)({avatarUrl:"",email:"",fakedEmail:!1,name:"",token:"",userType:""}),l=Object(g.a)(c,2),p=l[0],s=l[1],u={isSignin:n,user:p},d={handleUser:function(){x.get("/api/v1/user").then(function(e){s(Object(f.a)({},p,e.data)),r(!0)}).catch(function(e){r(!1)})}};return o.a.createElement(w.Provider,{value:Object(f.a)({},u,{handler:d})},e.children)},null,o.a.createElement(p.a,null,o.a.createElement(_t,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[274,1,2]]]);
//# sourceMappingURL=main.9f1b28af.chunk.js.map